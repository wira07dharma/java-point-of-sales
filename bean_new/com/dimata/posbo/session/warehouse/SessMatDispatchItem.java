/* Generated by Together */

package com.dimata.posbo.session.warehouse;

import com.dimata.qdep.form.*;

public class SessMatDispatchItem extends Control {

    /* for material transfer */
    /*
    public static Vector listMaterialTransfer(String whereClause, String orderBy){
          Vector result = new Vector(1,1);

     	  String sql = "SELECT * FROM "+PstMatDispatchItem.TBL_MAT_DISPATCH_ITEM+" AS MAT "+
					" LEFT JOIN "+PstMatStock.TBL_MAT_STOCK+" AS STOCK ON "+
                 	" STOCK."+PstMatStock.fieldNames[PstMatStock.FLD_MAT_STOCK_ID]+" = MAT."+PstMatDispatchItem.fieldNames[PstMatDispatchItem.FLD_MAT_STOCK_ID];


          String where = "";
          if(whereClause.length()>0){
              	sql = sql + " WHERE "+whereClause ;
          }

          String order = "";
          if(orderBy.length()>0){
				sql = sql + " ORDER BY "+ orderBy;
          }


       //   System.out.println("---------------------->>>>>  "+sql);

          DBResultSet dbrs = null;

          //Vector vctStock = new Vector(1,1);
          try{
             dbrs = DBHandler.execQueryResult(sql);
             ResultSet rs = dbrs.getResultSet();
             while(rs.next()){
                 Vector vctItem = new Vector(1,1);

                 MatDispatchItem matDf = new MatDispatchItem();
                 PstMatDispatchItem.resultToObject(rs, matDf);

             //    System.out.println("-------------> matDf.comment : "+matDf.getComment());

                 MatStock matStock = new MatStock();
                 PstMatStock.resultToObject(rs, matStock);

                 vctItem.add(matDf);

                 vctItem.add(matStock);

                 result.add(vctItem);
             }

             rs.close();
          }
          catch(Exception e){
             DBResultSet.close(dbrs);
             System.out.println("exception on search DF REG : "+e.toString());
          }
          finally{
             DBResultSet.close(dbrs);
          }

          return result;

    }
     */

    /* for material transfer */
    /*public static Vector listMaterialAndDispatchItem(long dispatchOID){
          Vector result = new Vector(1,1);

     	  String sql = "SELECT * FROM "+PstMatDispatchItem.TBL_MATERIAL_DISPATCH_ITEM+" AS DF  "+
					" INNER JOIN "+PstMatStock.TBL_MATERIAL_STOCK+" AS STOCK ON STOCK."+
                    PstMatStock.fieldNames[PstMatStock.FLD_MAT_STOCK_ID]+"= DF."+
                    PstMatDispatchItem.fieldNames[PstMatDispatchItem.FLD_MAT_STOCK_ID]+
                    " WHERE "+PstMatDispatchItem.fieldNames[PstMatDispatchItem.FLD_MAT_DISPATCH_ID]+"="+dispatchOID;

          DBResultSet dbrs = null;

          Vector vctStock = new Vector(1,1);
          try{
             dbrs = DBHandler.execQueryResult(sql);
             ResultSet rs = dbrs.getResultSet();
             while(rs.next()){
                 Vector vctItem = new Vector(1,1);

                 MatDispatchItem matDf = new MatDispatchItem();
                 PstMatDispatchItem.resultToObject(rs, matDf);

                 MatStock matStock = new MatStock();
                 PstMatStock.resultToObject(rs, matStock);

                 vctItem.add(matDf);

                 vctItem.add(matStock);

                 result.add(vctItem);
             }

             rs.close();
          }
          catch(Exception e){
             DBResultSet.close(dbrs);
             System.out.println("exception on search DF REG : "+e.toString());
          }
          finally{
             DBResultSet.close(dbrs);
          }

          return result;

    }

*/

    /*
    public static boolean checkMaterialItem(long dispatchOID, long materialGroupOID, long materialOID){
        DBResultSet dbrs = null;
        boolean found = false;
        try{

            MatDispatch matDispatch = PstMatDispatch.fetchExc(dispatchOID);

            long materialStockOID = SessMatStock.getMaterialStockOID(matDispatch.getDispatchFrom(), materialGroupOID, materialOID);

            String sql = "SELECT COUNT("+PstMatDispatchItem.fieldNames[PstMatDispatchItem.FLD_MATERIAL_DISPATCH_ITEM_ID]+") FROM "+PstMatDispatchItem.TBL_MAT_DISPATCH_ITEM+" "+
                "WHERE "+PstMatDispatchItem.fieldNames[PstMatDispatchItem.FLD_MAT_DISPATCH_ID]+"="+dispatchOID+" AND "+
                PstMatDispatchItem.fieldNames[PstMatDispatchItem.FLD_MAT_STOCK_ID]+"="+materialStockOID;

         //   System.out.println("---------------------");
         //   System.out.println(sql);
         //   System.out.println("---------------------");


            dbrs = DBHandler.execQueryResult(sql);
            ResultSet rs = dbrs.getResultSet();

            int count  = 0;
            while(rs.next()){
                count  =  rs.getInt(1);
            }

            if(count>0){
                found = true;
            }

            rs.close();
        }
        catch(Exception e){
            System.out.println("exception e : "+e.toString());
        }
        finally{
            DBResultSet.close(dbrs);
            return found;
        }


    }
     */

}
